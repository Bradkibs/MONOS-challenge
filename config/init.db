CREATE TABLE users (
    id VARCHAR PRIMARY KEY,
    name VARCHAR NOT NULL,
    email VARCHAR NOT NULL UNIQUE,
    password VARCHAR NOT NULL
);
CREATE TABLE businesses (
    id VARCHAR PRIMARY KEY,
    name VARCHAR NOT NULL,
    description TEXT,
    vendorId VARCHAR REFERENCES users(id) ON DELETE CASCADE
);
CREATE TABLE branches (
    id VARCHAR PRIMARY KEY,
    businessId VARCHAR REFERENCES businesses(id) ON DELETE CASCADE,
    location VARCHAR NOT NULL
);
CREATE TABLE subscriptions (
    id VARCHAR PRIMARY KEY,
    businessId VARCHAR REFERENCES businesses(id) ON DELETE CASCADE,
    tier VARCHAR NOT NULL,
    startDate DATE NOT NULL,
    endDate DATE,
    status VARCHAR
);

CREATE TABLE payments (
    id VARCHAR PRIMARY KEY,
    subscriptionId VARCHAR REFERENCES subscriptions(id) ON DELETE CASCADE,
    amount DECIMAL NOT NULL,
    date DATE NOT NULL,
    status VARCHAR NOT NULL
);

CREATE TABLE invoices (
    id VARCHAR PRIMARY KEY,
    paymentId VARCHAR REFERENCES payments(id) ON DELETE CASCADE,
    issueDate DATE NOT NULL,
    dueDate DATE NOT NULL,
    status VARCHAR NOT NULL
);

CREATE TABLE products (
    id VARCHAR PRIMARY KEY,
    businessId VARCHAR REFERENCES businesses(id) ON DELETE CASCADE,
    name VARCHAR NOT NULL,
    details TEXT,
    quantity INT NOT NULL,
    price DECIMAL NOT NULL
);
